<div class="container budget">
    <div class="row">
        <div class="col-xs-12 padding-bottom-20">
            <h1 ng-show="!vm.editTitle" ng-mouseover="vm.editTitleIcon = true" ng-mouseleave="vm.editTitleIcon = false">{{vm.allBudgets[vm.budgetId].title}}<img class="svg-icon" ng-show="vm.editTitleIcon" ng-click="vm.editTitle = true" src="icons/pencil.svg"/></h1>
            <div class="edit-input-container margin-bottom-10" ng-show="vm.editTitle">
                <form class="margin-top-20" name="editTitleForm" ng-submit="vm.updateBudgetTitle(vm.budgetId, vm.budgetTitle); vm.editTitle = false">
                    <div class="group-no-margin paper-input">
                        <input type="text" data-ng-model="vm.budgetTitle" required>
                        <span class="highlight"></span>
                        <span class="bar"></span>
                        <label>{{vm.allBudgets[vm.budgetId].title}}</label>
                    </div>
                </form>
                <a ng-click="vm.editTitle = false">Cancel</a>
            </div>
            <p>Start date: <span class="label label-info">{{vm.allBudgets[vm.budgetId].budgetStartDate}}</span> End date: <span class="label label-info">{{vm.allBudgets[vm.budgetId].budgetEndDate}}</span> Start balance: <span class="label label-success"> {{vm.allBudgets[vm.budgetId].firstDayBalance | currency:"€ "}}</span> Current ballance: <span class="label label-warning">{{vm.allBudgets[vm.budgetId].currentBalance | currency:"€ "}}</span>
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-6">
            <h3>Extra expenses: </h3>
            <div ng-repeat="(key, value) in vm.allBudgets[vm.budgetId].expenses">
                <p>{{key+1}}. Name: <strong> {{value.name}}</strong> Category: <strong>{{value.category}} </strong> Cost: <span class="label label-info">{{value.cost | currency:"€ " }}</span></p>
            </div>
            <h4 class="pull-right padding-top-10">Total this month: <span class="label label-danger">{{vm.allBudgets[vm.budgetId].totalExpenses | currency:"€ "}}</span></h4>
        </div>
        <div class="col-xs-12 col-sm-6">
            <h3>Monthly expenses: </h3>
            <div ng-repeat="(key, value) in vm.allBudgets[vm.budgetId].monthlyExpenses">
                <p>{{key+1}}. Name: <strong> {{value.name}}</strong> Category: <strong>{{value.category}} </strong> Cost: <span class="label label-info">{{value.cost | currency:"€ "}}</span></p>
            </div>
            <h4 class="pull-right padding-top-10">Planed expenses this month: <span class="label label-danger">{{vm.allBudgets[vm.budgetId].totalMonthlyExpenses | currency:"€ "}}</span></h4>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 padding-bottom-30 padding-top-20">
            <div class="pull-left">
                <a class="btn btn-blue-900" ng-click="vm.extraExpense = true; vm.monthlyExpense = false">Add expense</a>
                <a class="btn btn-blue-900" ng-click="vm.monthlyExpense = true; vm.extraExpense = false">Plan this month expenses</a>
            </div>
        </div>
    </div>
    <div class="row extra-expense" ng-show="vm.extraExpense">
        <div class="col-xs-12">
            <add-expense extra-expense="vm.extraExpense" expense-name="vm.expenseName" expense-category="vm.expenseCategory" expense-cost="vm.expenseCost" />
        </div>
        <div class="col-xs-12 btn-container">
            <button type="button" class="btn btn-blue-900" ng-click="vm.monthlyExpense = true; vm.extraExpense = false; vm.addExpense(vm.budgetId, vm.expenseName, vm.expenseCategory, vm.expenseCost)">Add expense</button>
        </div>
    </div>


</div>


